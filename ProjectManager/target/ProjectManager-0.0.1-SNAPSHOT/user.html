<html>
<head>
	<link rel="stylesheet" type="text/css" href="User.css" media="screen" />
<title>Adding an user</title>
</head>
<body ng-app="UserManagement" ng-controller="UserController">
<form ng-submit="submitUser()">
	<div>
	<table border="0">
		<tr>
			<td>
 				<B>First Name:</B>
			</td>
			<td>
				<input type="text" name="firstname" size="30" ng-model="userForm.first_name"><br>			
			</td>
		</tr>
		<tr>
			<td>
 				<B>Last Name:</B>
			</td>
			<td>
				<input type="text" name="lastname"  size=30 ng-model="userForm.last_name><br>			
			</td>
		</tr>
		<tr>
			<td>
 				<B>Employee ID:</B>
			</td>
			<td>
				<input type="text" name="employeeID"  size="10" ng-model="userForm.employee_id"><br>			
			</td>
		</tr>
		<tr>
			<td>
			</td>
			<td align="right">
				<input type="submit" value="    Add    ">
  				<input type="reset" value="   Reset   ">			
			</td>
		</tr>
	</table>
</div>
</form>
<div>
	<hr color="darkblue" width="18%"></hr>
</div>
<form>
<div>
	<input type="text" name="lastname"  size="10" value="Search....">
	<font face="verdana" size="1"><I>  Sort:</I></font>
	<button type="button">First Name</button>
	<button type="button">Last Name</button>
	<button type="button">Id</button>
	</div>
<div>
	<hr style="border-top: dotted 1px;" width="18%"></hr>
</div>
</form>
<script type="text/javascript">
 var app = angular.module("UserManagement", []);
         
            //Controller Part
            app.controller("UserController", function($scope, $http) {
         
               
                $scope.userForm = {
                    "first_name":"",
					"last_name": "",
					"employee_id":0 ,
					"project_id": 0,
					"task_id": 0
				};
				
				                $scope.submitUser = function() {
         
                    var method = "";
                    var url = "";
                    if ($scope.userForm.id == -1) {
                        //Id is absent in form data, it is create new country operation
                        method = "POST";
                        url = '/user/add';
                    } else {
                        //Id is present in form data, it is edit country operation
                        method = "PUT";
                        url = '/user/update';
                    }
         
                    $http({
                        method : method,
                        url : url,
                        data : angular.toJson($scope.userForm),
                        headers : {
                            'Content-Type' : 'application/json'
                        }
                    }).then( _success, _error );
                };
			});
</script>
</body>
</html>